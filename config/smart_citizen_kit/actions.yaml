actions:
  - class: SmartCitizenKitSource
    copy_metadata_to_columns:
      - station_name
      - station_id
      - lat
      - lon
      - created_at
      - city
      - country
      - author
    
    cache_directory: inputs/smart_citizen_kit
    mappings: !include mappings.yaml # Used to rename things before going into the metadata db

  - class: CSVParser
    mappings: !include mappings.yaml
    
    identifying_keys:
      - time
      
    metadata_keys:
      - station_name
      - station_id
      - author
      - lat
      - lon
      - created_at
      - city
      - country

  - class: ODCEncoder
    split_data_columns: False
    output: outputs/{source}/odb/{internal_id}_{start_time}.odb
    MARS_keys: !include MARS_keys.yaml